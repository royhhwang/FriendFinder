<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <title>Friend Finder</title>
</head>

<body>
    <div class="container">
        <nav>
            <div class="nav-wrapper" style="background-color:black">
                <a href="/" class="brand-logo">&nbsp Survey Questions</a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li>
                        <a href="/api/friends">People</a>
                    </li>
                    <li>
                        <a href="/">Super Cool Button</a>
                    </li>
                </ul>
            </div>
        </nav>
        <br>
        <div class="row">
            <form class="col s12">
                <div class="row">
                    <div class="col s12">
                        <h5>
                            <strong>About You</strong>
                        </h5>
                        <h6>Name (Required)</h6>
                    </div>
                    <div class="input-field col s6">
                        <i class="material-icons prefix">person</i>
                        <input id="icon_prefix input-name" type="text" class="validate">
                        <label for="icon_prefix">First Name</label>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col s12">
                        <h6>Link to Photo Image (Required)</h6>
                    </div>
                    <div class="input-field col s6">
                        <i class="material-icons prefix">photo</i>
                        <input id="icon_telephone input-url" type="tel" class="validate">
                        <label for="icon_telephone">Photo URL</label>
                    </div>
                </div>
            </form>
            <hr>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <h5>
                <strong>Question 1</strong>
            </h5>
            <h6>You enjoy video games.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q1">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 2</strong>
            </h5>
            <h6>You find computer programmers attractive.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q2">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 3</strong>
            </h5>
            <h6>Arrow functions are a turn on.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q3">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 4</strong>
            </h5>
            <h6>Cheesecake Factory is an acceptable date spot.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q4">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 5</strong>
            </h5>
            <h6>Traveling abroad has always been a dream.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q5">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 6</strong>
            </h5>
            <h6>Who needs six-figure salaries when you have love.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q6">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 7</strong>
            </h5>
            <h6>A balanced checkbook is sexy.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q7">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 8</strong>
            </h5>
            <h6>It isn't a date without at least 5 good meals.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q8">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 9</strong>
            </h5>
            <h6>Music has only gotten better over the years.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q9">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>
        <div class="row">
            <h5>
                <strong>Question 10</strong>
            </h5>
            <h6>Mars is the place to be.</h6>
            <div class="col l3">
                <select class="browser-default user-answer" id="q10">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 - Rather die</option>
                    <option value="2">2 - Hate it</option>
                    <option value="3">3 - Like it</option>
                    <option value="4">4 - Love it</option>
                    <option value="5">5 - Gotta have it</option>
                </select>
            </div>
        </div>

        <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Submit</a>
        <div id="modal1" class="modal">
            <div class="modal-content">
                <h4>Here's the love of your life!</h4>
                <p id="modal-name"></p>
                <p id="modal-photo"></p>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
            </div>
        </div>
    </div>
    <br>
    <hr class="my-2">

    <script type="text/javascript">

        $(document).ready(function () {
            $('select').material_select();
            $('.modal').modal();
        });

        $(".modal-trigger").on("click"), function (event) {
            function validateForm() {
                var isValid = true;
                $(".validate").each(function () {
                    if ($(this).val() === '')
                        isValid = false;
                });

                $('.user-answer').each(function () {
                    if ($(this).val() === "")
                        isValid = false
                })
                return isValid;
            };

            if (validateForm() == true) {
                var newPerson = {
                    personName: $("#input-name").val(),
                    personPhoto: $("#input-url").val(),
                    scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(),]
                }
                var currentURL = window.location.origin;

                $.post(currentURL + "/survey", newPerson, function (people) {

                    $("#modal-name").text(people.name);
                    $('#modal-photo').attr("src", people.photo);

                    // Show the modal with the best match 
                    $('#modal1').modal('open');
                });
            }
            else {
                alert("Please fill out all fields before submitting!");
            }

            return false;
        };

    </script>

    <script type="text/javascript" src="https://code.jquery.com/jquery-5.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
</body>

</html>